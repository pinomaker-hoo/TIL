# MySQL

## 개요

이 글은 SQL 코딩의 기술 책을 읽고 정리한 내용 입니다.

[SQL 코딩의 기술](https://ebook-product.kyobobook.co.kr/dig/epd/ebook/E000002937889)

<br />

## 목차

- [1. 데이터 모델의 설계](##1-데이터-모델의-설계)

<br />
<br />

## 1. 데이터 모델의 설계

<br />

### (1) 모든 테이블에는 기본키가 있어야한다.

<br />

관계형 모델을 따르기 위해서는 데이터베이스 시스템이 한 테이블에 있는 특정 로우와 나머지 로우를 구별할 수 있어야하기에, 모든 테이블에는 기본키가 있어야한다.

만약에 테이블에 키가 없으면 반복적이고 일관성 없는 데이터가 쌓여서 쿼리 수행 속도가 느리고 정확도가 떨어진다.

기본키는 아래와 같은 조건으로 삼으면 좋다.

- 유일한 값을 가져야한다.
- null 값을 가질 수 없다.
- 안정적인 값이어야함.
- 간단한 형태이어야한다.

위의 조건을 지키는 방법은 의미 없는 숫자 데이터로 자동 생성되는 컬럼을 기본키로 만드는 것이다. MySQL에서는 AUTO_INCREMENT를 사용하여 자동 증가되는 숫자 데이터를 사용한다.

복합 기본키는 기본키를 정의할 때 대부분의 데이터베이스 시스템은 해당 컬럼에 유일 인덱스를 같이 만드는 데, 컬럼 2개 이상에 유일 인덱스를 만들면 데이터 베이스의 할 일이 많아지며, 기본키로 조인을 수행하는 데 기본키가 여러 컬럼으로 구성되어있으면 쿼리가 좀 더 느리고 복잡하기에 사용하지 않는 것을 권장하지만 특수한 상황에서는 사용해야할 때가 있다.

<br />

### (2) 중복으로 저장된 데이터 항목을 제거하자.

<br />

데이터를 중복으로 저장할 경우 일관되지 않은 데이터와 비정상적인 삽입 및 갱신, 디스크 공간 낭비 등 많은 문제를 일으킨다.

정규화는 중복 데이터를 저장하면서 일으키는 문제점을 없애려고 정보를 주제별로 분할하는 프로세스를 의미한다.

정규화의 목표는 한 데이터베이스에서 동일한 테이블이든 다른 테이블이든 반복되는 데이터를 최소화 하는 것이다.

<br />

### (3) 반복 그룹 제거

<br />

엑셀에서 비슷한 데이터가 반복적으로 그룹을 이루는 것과 정보 처리 작업자가 DB 정규화를 염두에 두지 않고 새 DB에 넣는 일도 많다.

반복 그룹은 쿼리를 만들어 사용하기가 어렵다. 이 부분에 있어서 매우 중요한 것이 있는 데 바로 영향도(비용)적인 측면에서 컬럼은 비싸고 로우는 싸다라는 것을 기억해야한다.
