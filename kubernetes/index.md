# Kubernetes

## 개요

쿠버네티스에 대해 학습합니다.

<br />

## 목차

<br />
<br />

## 1. 컨테이너

<br />

### (1) 컨테이너 인프라 환경

<br />

![image](https://github.com/pinomaker-hoo/TIL/assets/56928532/925c1c73-e32e-4f67-81d6-2b6881c0106c)

<br />

컨테이너 인프라 환경은 컨테이너를 중심으로 구성된 인프라 환경이다. 컨테이너는 하나의 운영 체제 커널에서 다른 프로세스에 영향 받지 않고 독립적으로 실행되는 프로세스 상태를 의미한다.

컨테이너는 가상화 상태에서 동작하는 프로세스보다 더 가볍고 빠르게 동작한다.

### (2) 모놀리식 아키텍쳐, 마이크로서비스 아키텍쳐

<br />

![image](https://github.com/pinomaker-hoo/TIL/assets/56928532/4cd2c597-b1ff-4e27-8859-92a4061bd057)

모놀리식 아키텍쳐는 하나의 큰 목적이 있는 서비스에 여려 기능이 통합 되어있는 구조를 의미한다.

모놀리식 아키텍쳐에서는 소프트웨어가 하나의 결합된 코드로 구성되기에 초기 단계에서 설계하기 용이하고 코드 관리가 편하지만 서비스를 운영하는 과정에서 수정이 많을 경우에는 타 기능에 영향이 미칠 수 있고 단순했던 서비스 간의 관계가 복잡해질 수도 있다.

<br />

![image](https://github.com/pinomaker-hoo/TIL/assets/56928532/53e9210f-ae54-43d2-921d-8844201eab98)

그림처럼 여러가지 서비스가 하나의 서비스 안에 포함되면, 보안이나 데이터 베이스 접속과 같은 설정을 공통으로 하기에 개발 속도는 빠르지만 서버 증설이라던가, 에러 조치에 대해서 어려움이 발생하여 마이크로서비스 아키텍쳐가 등장했다.

<br />

마이크로서비스 아키텍쳐는 시스템 전체가 하나의 목적을 바라보는 것은 같지만, 개별 기능을 하는 작은 서비스를 각각 개발하여 연결하는 점이 다르다.

보안, 인증등과 관련된 기능이 독립된 서비스를 구성하고 있으며, 다른 서비스들도 독립적으로 동작할 수 있는 완결된 구조다.

이런 구조는 개발된 서비스를 재사용하기 쉽고, 향후 서비스가 변경됐을 때 다른 서비스에 영향을 미칠 가능성이 줄고 사용량의 변화에 따라 특정 서비스만 확장할 수 있다.

<br />

![image](https://github.com/pinomaker-hoo/TIL/assets/56928532/79fb7394-14d4-46a3-8c37-2b4141f52290)

<br />

마이크로서비스 아키텍쳐는 API 게이트웨이와 REST API를 이용한 통신 방식으로 사용자(외부)의 요청을 전달한다. 또한 서비스의 개수가 고정이 아니기에 어떤 서비스가 등록되어있는 지 파악하기 위해 서비스 디스커버리를 사용하고, 수많은 서비스의 내부 통신을 이벤트로 일원화하고 이를 효과적으로 관리하기 위한 이벤트 버스를 서비스로 구성한다.

## 쿠버네티스

(1) 컨테이너 인프라 환경

컨테이너 인프라 환경이란 리눅스 운영 체제의 커널 하나에서 여러 개의 컨테이너가 격리된 상태로 실행되는 인프라 환경을 의미한다.

개인 환경에서는 사용자가 다양한 응용 프로그램을 사용하기에 각각의 프로그램을 컨테이너로 구현할 필요가 없었으나, 기업 환경에서는 다수의 관리자가 수백 또는 수천 대의 서버를 함께 관리하기에 일관성을 유지하는 것이 매우 중요하다.

가상화 환경에서는 각각의 가상 머신이 모두 독립적인 운영 체제 커널을 가지고 있어야하기에 그만큼 자원을 더 소모해야하고 성능이 떨어지지만 컨테이너 인프라 환경은 운영 체제 커널 하나에 컨테이너 여러개가 격리된 형태로 실행되기 때문에 자원을 효울적으로 사용할 수 있고 속도도 빠르다.

![image](https://github.com/pinomaker-hoo/TIL/assets/56928532/55e86c25-bfa1-4723-a1a6-027431ab63f0)

(2) 쿠버네티스의 이해

쿠버네티스는 컨테이너 오케스트레이션을 위한 솔루션이다. 오케스트레이션이란 복잡한 단계를 관리하고 요소들의 유기적인 관계를 미리 정의해 손쉽게 사용하도록 서비스를 제공하는 것을 의미한다.

즉 다수의 컨테이너를 유기적으로 연결, 실행, 종료를 하고 상태를 추적하고 보존하는 등의 컨테이너를 안정적으로 사용할 수 있게 하는 것이다.
