# Java

## 개요

이 글은 Java의 정석을 읽고 정리한 내용 입니다.

[Java의 정석 - 남궁성](https://www.coupang.com/vp/products/57799011)

<br />

## 목차

- [6. 객체지향 프로그래밍 1](#6-객체지향-프로그래밍-1)

<br />
<br />

## 6. 객체지향 프로그래밍 1

<br />

### (1) 클래스와 객체

클래스는 객체를 정의해놓은 것으로 객체의 설계도라고 정의할 수 있다. 클래스는 객체를 생성하는 데 사용되며 객체는 클래스의 정의대로 생성된다.

객체의 사전적인 정의는 실제로 존재하는 것이지만, 프로그래밍에서의 객체는 클래스에 정의된 내용대로 메모리에 생성된 것을 의미한다.

클래스를 정의하고 객체를 생성하는 이유는 잘 만든 설계도가 있으면 제품을 만드는 것이 쉬어지는 것과 같이 클래스를 잘 선언하면 객체를 생성할 떄 어떻게라는 고민을 하지 않아도 된다.

JDK에서는 우리가 개발을 할 때 사용할 수 있는 다양하고 유용한 클래스를 기본적으로 제공하고 있어 우리는 이를 이용해 편하게 개발을 할 수도 있다.

<br />
<hr />
<br />

클래스로부터 객체를 생성하는 과정을 클래스의 인스턴스화라고 하며, 클래스로부터 만들어진 객체는 인스턴스라고 한다. 인스턴스와 객체는 같은 의미이지만 객체는 모든 인스턴스의 대표적인 의미를, 인스턴스는 구체적인 의미를 가지고 있다.

객체에는 속성과 기능 2가지 요소로 이루어져 있고 하나의 객체는 다수의 속성과 기능을 가지는 것이 일반적이다. 즉 객체는 속성과 기능의 집합이며, 속성과 기능을 그 객체의 멤버라고 한다.

객체는 클래스를 기반으로 생성되기에 클래스에는 모든 속성과 기능이 정의되어있다.

인스턴스를 생성할 때는 일반적으로는 new 키워드를 이용한다.

```Java
class Tv{
    String name;
}

class Test{
    public statis void main(String args[]){
        Tv t = new Tv();
        t.name = "LG 티비";
    }
}
```

`Tv t`는 Tv 클래스 타입의 참조 변수 t를 선언한다. 하지만 아직은 공간이 있을 뿐 인스턴스가 생성되지 않았기에 이 참조 변수로 아무것도 할 수 없다. 그 후에 연산자 new를 이용해 Tv 클래스의 인스턴스가 빈 공간에 생성된다.

인스턴스는 참조변수를 통해서만 다룰 수 있으며, 참조 변수의 타입은 인스턴스의 타입과 일치해야한다.

<br />
<hr />
<br />

많은 수의 객체를 다룰 때는 객체들을 배열로 다루는 객체 배열을 사용할 수 있다. 객체 배열은 참조 변수들을 하나로 묶은 참조 변수 배열이라고 생각하면 된다.

```Java
Tv[] tvArr = new Tv[3];
```

위와 같은 코드에서는 tvArr에 모든 객체들이 참조되는 것이 아니라 객체의 주소를 배열에 저장하여 참조해 사용한다고 생각하면 된다.

또한 다형성을 이용하면 여러 타입의 객체를 하나의 배열로 다룰 수도 있다.

<br />

### (2) 변수와 메서드

<br />

변수는 클래스 변수, 인스턴스 변수, 지역 변수 3가지로 구분된다. 종류를 결정하는 것은 변수 선언의 위치이며 이에 따라 생성되는 시기가 다르다.

1. 인스턴스 변수

   인스턴스 변수는 클래스 영역에서 선언되어있으며, 인스턴스가 생성되었을 때 변수가 생성된다. 인스턴스 변수를 읽거나 저장을 할려면 당연히 인스턴스를 생성해야하고 인스턴스는 독립적인 값이기에 서로 다른 값을 가질 수 있다.

   인스턴스마다 고유한 상태를 유지해야하는 속성의 경우는 인스턴스 변수로 선언한다.

2. 클래스 변수

   클래스 변수는 인스턴스 변수와 같은 위치에 선언되지만 static 키워드와 함께 선언하며, 클래스가 메모리에 올라갈 때 생성된다. 인스턴스 변수는 인스턴스 마다 다른 값을 가질 수 있지만, 클래스 변수는 모든 인스턴스가 같은 저장 공간을 공유하게 된다.

   한 클래스의 모든 인스턴스가 같은 값을 공유해야할 때 사용하며, 인스턴스를 생성하지 않아도 사용할 수 있는 특징이 있다. public 키워드를 추가하면 전역 변수로 사용이 가능하다.

3. 지역 변수

   지역 변수는 클래스 이외에 메서드 생성자 등의 존재하는 변수로 변수의 선언문이 수행되었을 때 생성된다.

<br />
<hr />
<br />

메서드는 특정 작업을 수행하는 코드를 하나로 묶은 것이다. 메서드를 사용할 때는 작업을 수행하는 데 필요한 INPUT을 넣고 OUTPUT을 얻으면 되며 내부적으로 어떤 과정을 거쳐 결과를 만드는 지는 몰라도 된다. (물론 작업 플로우상이지 개발자는 알아야한다.) 예를 들어 println()의 작동 원리를 몰라도 우리는 잘 사용할 수 있다.

우리는 메서드를 사용하는 이유는 높은 재사용성, 중복된 코드의 제거와 프로그램의 구조화 등의 이점을 얻을 수 있다.

1. 높은 재사용성

   한 번 만들어둔 메서드는 지속적으로 재사용이 가능하며, 타 로직에서도 호출이 가능하다.

2. 중복된 코드의 제거

   개발을 하다 보면 중복된 코드를 자주 발견할 수 있는 데 이를 메서드로 분리를 하며 중복된 코드를 사용하던 곳에서 메서드를 사용하면 코드의 중복을 줄일 수도 있고 유지보수 할 때도 중복된 모든 코드를 수정하는 것이 아닌 메서드만 수정하면 된다.

3. 프로그램의 구조화

   우리가 원하는 서비스 혹은 프로그램을 만들기 위해서는 생각보다 오랜 설계를 통한 적합한 구조를 만들어낸다. 이에 메서드를 사용하여 중복 코드를 줄이고 재사용성을 높이는 것은 프로그램을 구조화하는 것에 이점이 있다.

<br />

메서드는 선언부와 구현부로 이루어져있다.

```java
int add (int a, int b) { //선언부
    return a + b; // 구현부
}
```

선언부에는 메서드의 이름과 INPUT으로 받을 수 있는 매개변수의 선언 그리고 해당 메서드의 반환 타입으로 구성되어있다. 메서드를 유지보수 할 때는 가능하면 선언부를 수정하지 않게 만드는 것이 좋다. 선언부를 수정하면 메서드를 호출한 모든 곳을 수정해야한다.

메서드의 매개변수를 선언 할 때는 개수의 제한은 거의 없지만 입력 받을 값의 개수가 많다면 배열이나 참조 변수를 활용할 수 있고, 입력 받을 값이 없다면 비어두어도 된다.

같은 클래스 내의 메서드끼리는 참조 변수를 사용하지 않아도 서로 호출이 가능하지만 statis 메서드는 같은 클래스 내의 인스턴스 메서드를 호출 할 수 없다.

```java
class MyMath  {
    long add(long a, long b){
        return a + b;
    }
}

MyMath mm = new MyMath();
long val = mm.add(1L, 2L); // 인스턴스를 생성하여 메서드 사용
```

우리가 메서드를 구현할 때 그 중에서 매개 변수를 받을 때는 매개변수의 값이 적절한 지 검사하는 것이 매우 중요하다. 해당 메서드를 호출하는 쪽이 알아서 잘하겠지라는 생각은 위험하기에 메서드 내부에서도 값에 대한 검증을 하는 것이 좋다.

```java
int divide(int a, int b){
    if(b == 0){
        System.out.println("0으로 나눌 수 없다.");
        return 0;
    }

    return x /y;
}
```
